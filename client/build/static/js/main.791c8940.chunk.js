(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{502:function(e,t,a){e.exports=a(999)},731:function(e,t,a){},974:function(e,t,a){},999:function(e,t,a){"use strict";a.r(t);a(308),a(320),a(321),a(322),a(323),a(324),a(325),a(326),a(327),a(328),a(329),a(330),a(331),a(332),a(333),a(503),a(504),a(505),a(506),a(507),a(508),a(509),a(510),a(511),a(337),a(512),a(513),a(188),a(514),a(515),a(516),a(517),a(518),a(519),a(520),a(521),a(522),a(523),a(524),a(525),a(526),a(527),a(528),a(530),a(532),a(533),a(346),a(190),a(534),a(535),a(536),a(537),a(538),a(539),a(540),a(541),a(542),a(543),a(544),a(545),a(546),a(547),a(548),a(549),a(351),a(550),a(551),a(552),a(553),a(554),a(555),a(556),a(557),a(558),a(560),a(561),a(563),a(564),a(565),a(566),a(567),a(568),a(569),a(570),a(571),a(572),a(573),a(574),a(575),a(576),a(577),a(578),a(579),a(580),a(581),a(260),a(583),a(584),a(585),a(586),a(587),a(589),a(590),a(591),a(592),a(593),a(594),a(595),a(596),a(597),a(598),a(599),a(363),a(600),a(601),a(262),a(602),a(603),a(604),a(605),a(198),a(606),a(607),a(608),a(609),a(610),a(611),a(612),a(613),a(614),a(615),a(616),a(617),a(618),a(619),a(620),a(621),a(622),a(623),a(624),a(625),a(626),a(627),a(628),a(629),a(630),a(631),a(633),a(634),a(635),a(636),a(637),a(638),a(639),a(640),a(641),a(642),a(643),a(644),a(645),a(646),a(647),a(648),a(649),a(650),a(651),a(652),a(653),a(654),a(655),a(656),a(657),a(658),a(659),a(660),a(661),a(662),a(663),a(664),a(665),a(267),a(666),a(667),a(668),a(669),a(670),a(671),a(672),a(371),a(372),a(373),a(374),a(375),a(376),a(377),a(378),a(379),a(380),a(381),a(382),a(383),a(384),a(385),a(386),a(387),a(675),a(676),a(677),a(678),a(679),a(680),a(681),a(682),a(683),a(684),a(685),a(686),a(687),a(688),a(689),a(690),a(692),a(693),a(694),a(695),a(696),a(697),a(698),a(699),a(700),a(701),a(702),a(389),a(391),a(392),a(393),a(394),a(395),a(396),a(397),a(398),a(399),a(400),a(401),a(402),a(403),a(404),a(405),a(406),a(407),a(703),a(704),a(705),a(707),a(408),a(409),a(410),a(708),a(709),a(710),a(711),a(712),a(713),a(714),a(715),a(412),a(716),a(717),a(718),a(720),a(414),a(721),a(415);var n=a(0),r=a.n(n),l=a(7),i=a.n(l),c=(a(731),a(105)),s=a(40),o=a.n(s);function u(){return{type:"auth_user",payload:o.a.get("".concat("/api/users","/auth")).then((function(e){return e.data}))}}var m=a(60),d=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function l(l){var i=Object(m.c)((function(e){return e.user})),c=Object(m.b)();return Object(n.useEffect)((function(){c(u()).then((function(e){e.payload.isAuth?(a&&!e.payload.isAdmin||!1===t)&&l.history.push("/"):t&&l.history.push("/login")}))}),[]),r.a.createElement(e,Object.assign({},l,{user:i}))}return l},p=a(498);var f=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app"},r.a.createElement("img",{src:"/uniceplacs-removebg.png",alt:"uniceplac",style:{height:"500px"}}),r.a.createElement("span",{style:{fontSize:"2rem"}},"Medicina Veterinaria Uniceplac "),r.a.createElement("span",null," ",r.a.createElement(p.a,{style:{fontSize:"2rem"}}),r.a.createElement("br",null))),r.a.createElement("div",{style:{float:"right"}}))},g=a(63),h=a(237),b=a(65),E=a(1003),v=a(1002),y=a(1007),O=a(19),w=a(1005),j=a(305),N=E.a.Title;var S=Object(c.f)((function(e){var t=Object(m.b)(),a=!!localStorage.getItem("rememberMe"),l=Object(n.useState)(""),i=Object(g.a)(l,2),c=i[0],s=i[1],u=Object(n.useState)(a),d=Object(g.a)(u,2),p=d[0],f=d[1],E=function(){f(!p)},S=localStorage.getItem("rememberMe")?localStorage.getItem("rememberMe"):"";return r.a.createElement(h.a,{initialValues:{email:S,password:""},validationSchema:b.object().shape({email:b.string().email("Email inv\xe1lido!").required("Email \xe9 necess\xe1rio"),password:b.string().min(6,"Sua senha precisa ter pelo menos 6 caracteres!").required("Senha \xe9 necess\xe1rio")}),onSubmit:function(a,n){var r=n.setSubmitting;setTimeout((function(){var n={email:a.email,password:a.password};t(function(e){return{type:"login_user",payload:o.a.post("".concat("/api/users","/login"),e).then((function(e){return e.data}))}}(n)).then((function(t){t.payload.loginSuccess?(window.localStorage.setItem("userId",t.payload.userId),!0===p?window.localStorage.setItem("rememberMe",a.id):localStorage.removeItem("rememberMe"),e.history.push("/")):s("Verifique seu email e senha!")})).catch((function(e){s("Verifique seu email e senha!"),setTimeout((function(){s("")}),3e3)})),r(!1)}),500)}},(function(e){var t=e.values,a=e.touched,n=e.errors,l=e.isSubmitting,i=e.handleChange,s=e.handleBlur,o=e.handleSubmit;return r.a.createElement("div",{className:"app"},r.a.createElement(N,{level:2},"Entrar"),r.a.createElement("form",{onSubmit:o,style:{width:"350px"}},r.a.createElement(v.a.Item,{required:!0},r.a.createElement(y.a,{id:"email",prefix:r.a.createElement(O.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Digite seu email...",type:"email",value:t.email,onChange:i,onBlur:s,className:n.email&&a.email?"text-input error":"text-input"}),n.email&&a.email&&r.a.createElement("div",{className:"input-feedback"},n.email)),r.a.createElement(v.a.Item,{required:!0},r.a.createElement(y.a,{id:"password",prefix:r.a.createElement(O.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Digite sua senha...",type:"password",value:t.password,onChange:i,onBlur:s,className:n.password&&a.password?"text-input error":"text-input"}),n.password&&a.password&&r.a.createElement("div",{className:"input-feedback"},n.password)),c&&r.a.createElement("label",null,r.a.createElement("p",{style:{color:"#ff0000bf",fontSize:"0.7rem",border:"1px solid",padding:"1rem",borderRadius:"10px"}},c)),r.a.createElement(v.a.Item,null,r.a.createElement(w.a,{id:"rememberMe",onChange:E,checked:p},"Remember me"),r.a.createElement("a",{className:"login-form-forgot",href:"/reset_user",style:{float:"right"}},"Esqueci minha senha"),r.a.createElement("div",null,r.a.createElement(j.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{minWidth:"100%"},disabled:l,onSubmit:o},"Entrar")),"Ou ",r.a.createElement("a",{href:"/register"},"Criar conta!"))))}))})),x=a(178),k=a.n(x),C={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},I={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};var T=function(e){var t=Object(m.b)();return r.a.createElement(h.a,{initialValues:{email:"",lastName:"",name:"",password:"",confirmPassword:""},validationSchema:b.object().shape({name:b.string().required("Nome \xe9 necess\xe1rio"),lastName:b.string().required("Sobrenome \xe9 necess\xe1rio"),email:b.string().email("Email inv\xe1lido").required("Email \xe9 necess\xe1rio"),password:b.string().min(6,"A senha precisa ter pelo menos 6 caracters").required("Senha \xe9 necess\xe1rio"),confirmPassword:b.string().oneOf([b.ref("password"),null],"As senhas precisam ser iguais!").required("Confirmar a senha \xe9 necess\xe1rio")}),onSubmit:function(a,n){var r=n.setSubmitting;setTimeout((function(){var n={email:a.email,password:a.password,name:a.name,lastname:a.lastname,image:"http://gravatar.com/avatar/".concat(k()().unix(),"?d=identicon")};t(function(e){return{type:"register_user",payload:o.a.post("".concat("/api/users","/register"),e).then((function(e){return e.data}))}}(n)).then((function(t){t.payload.success?e.history.push("/login"):alert(t.payload.err.errmsg)})),r(!1)}),500)}},(function(e){var t=e.values,a=e.touched,n=e.errors,l=e.isSubmitting,i=e.handleChange,c=e.handleBlur,s=e.handleSubmit;return r.a.createElement("div",{className:"app"},r.a.createElement("h2",null,"Cadastrar"),r.a.createElement(v.a,Object.assign({style:{minWidth:"375px"}},C,{onSubmit:s}),r.a.createElement(v.a.Item,{required:!0,label:"Nome"},r.a.createElement(y.a,{id:"name",placeholder:"Digite seu nome",type:"text",value:t.name,onChange:i,onBlur:c,className:n.name&&a.name?"text-input error":"text-input"}),n.name&&a.name&&r.a.createElement("div",{className:"input-feedback"},n.name)),r.a.createElement(v.a.Item,{required:!0,label:"Sobrenome"},r.a.createElement(y.a,{id:"lastName",placeholder:"Digite seu sobrenome",type:"text",value:t.lastName,onChange:i,onBlur:c,className:n.lastName&&a.lastName?"text-input error":"text-input"}),n.lastName&&a.lastName&&r.a.createElement("div",{className:"input-feedback"},n.lastName)),r.a.createElement(v.a.Item,{required:!0,label:"Email",hasFeedback:!0,validateStatus:n.email&&a.email?"error":"success"},r.a.createElement(y.a,{id:"email",placeholder:"Digite seu email",type:"email",value:t.email,onChange:i,onBlur:c,className:n.email&&a.email?"text-input error":"text-input"}),n.email&&a.email&&r.a.createElement("div",{className:"input-feedback"},n.email)),r.a.createElement(v.a.Item,{required:!0,label:"Senha",hasFeedback:!0,validateStatus:n.password&&a.password?"error":"success"},r.a.createElement(y.a,{id:"password",placeholder:"Digite sua senha",type:"password",value:t.password,onChange:i,onBlur:c,className:n.password&&a.password?"text-input error":"text-input"}),n.password&&a.password&&r.a.createElement("div",{className:"input-feedback"},n.password)),r.a.createElement(v.a.Item,{required:!0,label:"Confirmar senha",hasFeedback:!0},r.a.createElement(y.a,{id:"confirmPassword",placeholder:"Confirme sua senha",type:"password",value:t.confirmPassword,onChange:i,onBlur:c,className:n.confirmPassword&&a.confirmPassword?"text-input error":"text-input"}),n.confirmPassword&&a.confirmPassword&&r.a.createElement("div",{className:"input-feedback"},n.confirmPassword)),r.a.createElement(v.a.Item,I,r.a.createElement(j.a,{onClick:s,type:"primary",disabled:l},"Submit"))))}))},_=a(1004);_.a.SubMenu,_.a.ItemGroup;var A=function(e){return r.a.createElement(_.a,{mode:e.mode},r.a.createElement(_.a.Item,{key:"mail"},r.a.createElement("a",{href:"/"},"Inicio")),r.a.createElement(_.a.Item,{key:"Blog"},r.a.createElement("a",{href:"/blog"},"P\xe1gina de Posts")),r.a.createElement(_.a.Item,{key:"Create"},r.a.createElement("a",{href:"/blog/create"},"Criar Post")))};var q=Object(c.f)((function(e){var t=Object(m.c)((function(e){return e.user}));return t.userData&&!t.userData.isAuth?r.a.createElement(_.a,{mode:e.mode},r.a.createElement(_.a.Item,{key:"mail"},r.a.createElement("a",{href:"/login"},"Entrar")),r.a.createElement(_.a.Item,{key:"app"},r.a.createElement("a",{href:"/register"},"Registar"))):r.a.createElement(_.a,{mode:e.mode},r.a.createElement(_.a.Item,{key:"logout"},r.a.createElement("a",{onClick:function(){o.a.get("".concat("/api/users","/logout")).then((function(t){200===t.status?e.history.push("/login"):alert("Falha no logout")}))}},"Sair")))})),D=a(1006);a(974);var P=function(){var e=Object(n.useState)(!1),t=Object(g.a)(e,2),a=t[0],l=t[1];return r.a.createElement("nav",{className:"menu",style:{position:"fixed",zIndex:5,width:"100%"}},r.a.createElement("div",{className:"menu__logo"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:"/uniceplac.png",alt:"uniceplac",style:{height:"50px"}}))),r.a.createElement("div",{className:"menu__container"},r.a.createElement("div",{className:"menu_left"},r.a.createElement(A,{mode:"horizontal"})),r.a.createElement("div",{className:"menu_rigth"},r.a.createElement(q,{mode:"horizontal"})),r.a.createElement(j.a,{className:"menu__mobile-button",type:"primary",onClick:function(){l(!0)}},r.a.createElement(O.a,{type:"align-right"})),r.a.createElement(D.a,{title:"Basic Drawer",placement:"right",className:"menu_drawer",closable:!1,onClose:function(){l(!1)},visible:a},r.a.createElement(A,{mode:"inline"}),r.a.createElement(q,{mode:"inline"}))))};var M=function(){return r.a.createElement("div",{style:{height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"1rem"}},r.a.createElement("p",null," @MatheusMirro  ",r.a.createElement(O.a,{type:"smile"})))},R=E.a.Title;var F=function(e){var t=Object(n.useState)([]),a=Object(g.a)(t,2),l=a[0],i=a[1],c=e.match.params.postId;return Object(n.useEffect)((function(){var e={postId:c};o.a.post("/api/blog/getPost",e).then((function(e){e.data.success?(console.log(e.data.post),i(e.data.post)):alert("N\xe3o consigo acessar o post")}))}),[]),l.writer?r.a.createElement("div",{className:"postPage",style:{width:"80%",margin:"3rem auto"}},r.a.createElement(R,{level:2},l.writer.name,"`s Post"),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(R,{level:4},l.createdAt)),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:l.content}})):r.a.createElement("div",{style:{width:"80%",margin:"3rem auto"}},"Carregando...")},H=a(1001),V=a(73),B=a(1e3),Q=a(142),z=E.a.Title,L=H.a.Meta;var W=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){o.a.get("/api/blog/getBlogs").then((function(e){e.data.success?(console.log(e.data.blogs),l(e.data.blogs)):alert("N\xe3o consigo acessar o post")}))}),[]);var i=a.map((function(e,t){return r.a.createElement(V.a,{key:t,lg:8,md:12,xs:24},r.a.createElement(H.a,{hoverable:!0,style:{width:370,marginTop:16},actions:[r.a.createElement(O.a,{type:"setting",key:"setting"}),r.a.createElement(O.a,{type:"edit",key:"edit"}),r.a.createElement("a",{href:"/blog/post/".concat(e._id)}," ",r.a.createElement(O.a,{type:"ellipsis",key:"ellipsis"}))]},r.a.createElement(L,{avatar:r.a.createElement(B.a,{src:e.writer.image}),title:e.writer.name}),r.a.createElement("div",{style:{height:150,overflowY:"scroll",marginTop:10}},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.content}}))))}));return r.a.createElement("div",{style:{width:"85%",margin:"3rem auto"}},r.a.createElement(z,{level:2}," Lista de Posts "),r.a.createElement(Q.a,{gutter:[32,16]},i))},U=a(242),X=a(304),J=a.n(X),G=a(494),Y=a(495),$=a(123),K=a(124),Z=a(71),ee=a(143),te=a(125),ae=a(126),ne=a(93),re=a.n(ne),le=(a(995),!!navigator.userAgent.match(/Trident/i)),ie=function(e){Object(ae.a)(a,e);var t=Object(te.a)(a);function a(){var e;Object($.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).getMetaTagElements=function(e){var t=document.createElement("div");return t.innerHTML=e,t.getElementsByTagName("meta")},e}return Object(K.a)(a,[{key:"onPaste",value:function(){var e=Object(Y.a)(J.a.mark((function e(t){var n,r,l,i=this;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clipboardData||window.clipboardData,e.next=3,n.getData("Text");case 3:r=e.sent,(l=r.match(/\b(http|https)?:\/\/\S+/gi)||[]).length>0?(t.preventDefault(),l.forEach((function(e){o.a.get(e).then((function(e){var t,a,n,r,l=Object(G.a)(i.getMetaTagElements(e));try{for(l.s();!(r=l.n()).done;){var c=r.value;"og:title"===c.getAttribute("property")&&(t=c.getAttribute("content")),"og:image"===c.getAttribute("property")&&(a=c.getAttribute("content")),"og:url"===c.getAttribute("property")&&(n=c.getAttribute("content"))}}catch(m){l.e(m)}finally{l.f()}var s="<a href=".concat(n,' target="_blank"><div><img src=').concat(a," alt=").concat(t,' width="20%"/><span>').concat(t,"</span></div></a>"),o=i.quill.getSelection(),u=o?o.index:0;i.quill.pasteHTML(u,s,"silent"),i.quill.setSelection(u+s.length)})).catch((function(e){return console.error(e)}))}))):Object(ee.a)(Object(Z.a)(a.prototype),"onPaste",this).call(this,t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(ne.Quill.import("modules/clipboard"));ne.Quill.register("modules/clipboard",ie,!0);var ce=ne.Quill.import("blots/block/embed"),se=function(e){Object(ae.a)(a,e);var t=Object(te.a)(a);function a(){return Object($.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,null,[{key:"create",value:function(e){var t=Object(ee.a)(Object(Z.a)(a),"create",this).call(this);return t.setAttribute("src",e.src),t.setAttribute("alt",e.alt),t.setAttribute("width","100%"),t}},{key:"value",value:function(e){return{src:e.getAttribute("src"),alt:e.getAttribute("alt")}}}]),a}(ce);se.blotName="image",se.tagName="img",ne.Quill.register(se);var oe=function(e){Object(ae.a)(a,e);var t=Object(te.a)(a);function a(){return Object($.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,null,[{key:"create",value:function(e){if(e&&e.src){var t=Object(ee.a)(Object(Z.a)(a),"create",this).call(this);return t.setAttribute("src",e.src),t.setAttribute("title",e.title),t.setAttribute("width","100%"),t.setAttribute("controls",""),t}var n=document.createElement("iframe");return n.setAttribute("src",e),n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("width","100%"),n}},{key:"value",value:function(e){return e.getAttribute("title")?{src:e.getAttribute("src"),alt:e.getAttribute("title")}:e.getAttribute("src")}}]),a}(ce);oe.blotName="video",oe.tagName="video",ne.Quill.register(oe);var ue=function(e){Object(ae.a)(a,e);var t=Object(te.a)(a);function a(){return Object($.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,null,[{key:"create",value:function(e){var t=document.createElement("span");t.innerText="\ucca8\ubd80\ud30c\uc77c - ";var n=document.createElement("b");n.innerText=e;var r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("target","_blank"),r.setAttribute("className","file-link-inner-post"),r.appendChild(n);var l=Object(ee.a)(Object(Z.a)(a),"create",this).call(this);return l.appendChild(t),l.appendChild(r),l}},{key:"value",value:function(e){return e.querySelector("a").getAttribute("href")}}]),a}(ce);ue.blotName="file",ue.tagName="p",ue.className="file-inner-post",ne.Quill.register(ue);var me=function(e){Object(ae.a)(a,e);var t=Object(te.a)(a);function a(){return Object($.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,null,[{key:"create",value:function(e){var t=document.createElement("span");t.innerText="\ud22c\ud45c - ";var n=document.createElement("b");n.innerText=e.title;var r=Object(ee.a)(Object(Z.a)(a),"create",this).call(this);return r.setAttribute("id",e.id),r.appendChild(t),r.appendChild(n),r}},{key:"value",value:function(e){return{id:e.getAttribute("id"),title:e.querySelector("b").innerText}}}]),a}(ce);me.blotName="poll",me.tagName="p",me.className="poll-inner-post",ne.Quill.register(me);var de=function(e){Object(ae.a)(a,e);var t=Object(te.a)(a);function a(e){var n;return Object($.a)(this,a),(n=t.call(this,e)).handleChange=function(e){console.log("html",e),n.setState({editorHtml:e},(function(){n.props.onEditorChange(n.state.editorHtml)}))},n.imageHandler=function(){n.inputOpenImageRef.current.click()},n.videoHandler=function(){n.inputOpenVideoRef.current.click()},n.fileHandler=function(){n.inputOpenFileRef.current.click()},n.insertImage=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0],a=new FormData;a.append("file",t),o.a.post("/api/blog/uploadfiles",a,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(!e.data.success)return alert("failed to upload file");var a=n.reactQuillRef.getEditor();a.focus();var r=a.getSelection(),l=r?r.index:0;a.insertEmbed(l,"image",{src:"http://localhost:5000/"+e.data.url,alt:e.data.fileName}),a.setSelection(l+1),n._isMounted&&n.setState({files:[].concat(Object(U.a)(n.state.files),[t])},(function(){n.props.onFilesChange(n.state.files)}))}))}},n.insertVideo=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0],a=new FormData;a.append("file",t),o.a.post("/api/blog/uploadfiles",a,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(!e.data.success)return alert("failed to upload file");var a=n.reactQuillRef.getEditor();a.focus();var r=a.getSelection(),l=r?r.index:0;a.insertEmbed(l,"video",{src:"http://localhost:5000/"+e.data.url,title:e.data.fileName}),a.setSelection(l+1),n._isMounted&&n.setState({files:[].concat(Object(U.a)(n.state.files),[t])},(function(){n.props.onFilesChange(n.state.files)}))}))}},n.insertFile=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0];console.log(t);var a=new FormData;a.append("file",t),o.a.post("/api/blog/uploadfiles",a,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(e.data.success){var a=n.reactQuillRef.getEditor();a.focus();var r=a.getSelection(),l=r?r.index:0;a.insertEmbed(l,"file",e.data.fileName),a.setSelection(l+1),n._isMounted&&n.setState({files:[].concat(Object(U.a)(n.state.files),[t])},(function(){n.props.onFilesChange(n.state.files)}))}}))}},n.modules={toolbar:{container:"#toolbar",handlers:{insertImage:n.imageHandler,insertVideo:n.videoHandler,insertFile:n.fileHandler,insertPoll:n.pollHandler}}},n.formats=["header","bold","italic","underline","strike","image","video","file","link","code-block","video","blockquote","clean"],n.state={editorHtml:le?"<p>&nbsp;</p>":"",files:[]},n.reactQuillRef=null,n.inputOpenImageRef=r.a.createRef(),n.inputOpenVideoRef=r.a.createRef(),n.inputOpenFileRef=r.a.createRef(),n}return Object(K.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{id:"toolbar"},r.a.createElement("select",{className:"ql-header",defaultValue:"",onChange:function(e){return e.persist()}},r.a.createElement("option",{value:"1"}),r.a.createElement("option",{value:"2"}),r.a.createElement("option",{value:""})),r.a.createElement("button",{className:"ql-bold"}),r.a.createElement("button",{className:"ql-italic"}),r.a.createElement("button",{className:"ql-underline"}),r.a.createElement("button",{className:"ql-strike"}),r.a.createElement("button",{className:"ql-insertImage"},"I"),r.a.createElement("button",{className:"ql-insertVideo"},"V"),r.a.createElement("button",{className:"ql-insertFile"},"F"),r.a.createElement("button",{className:"ql-link"}),r.a.createElement("button",{className:"ql-code-block"}),r.a.createElement("button",{className:"ql-video"}),r.a.createElement("button",{className:"ql-blockquote"}),r.a.createElement("button",{className:"ql-clean"})),r.a.createElement(re.a,{ref:function(t){e.reactQuillRef=t},theme:"snow",onChange:this.handleChange,modules:this.modules,formats:this.formats,value:this.state.editorHtml,placeholder:this.props.placeholder}),r.a.createElement("input",{type:"file",accept:"image/*",ref:this.inputOpenImageRef,style:{display:"none"},onChange:this.insertImage}),r.a.createElement("input",{type:"file",accept:"video/*",ref:this.inputOpenVideoRef,style:{display:"none"},onChange:this.insertVideo}),r.a.createElement("input",{type:"file",accept:"*",ref:this.inputOpenFileRef,style:{display:"none"},onChange:this.insertFile}))}}]),a}(r.a.Component),pe=a(1008),fe=E.a.Title;var ge=function(e){var t=Object(m.c)((function(e){return e.user})),a=Object(n.useState)(""),l=Object(g.a)(a,2),i=l[0],c=l[1],s=Object(n.useState)([]),u=Object(g.a)(s,2),d=(u[0],u[1]),p=function(a){if(a.preventDefault(),c(""),t.userData&&!t.userData.isAuth)return alert("Por favor, fa\xe7a o login primeiro!");var n={content:i,userID:t.userData._id};o.a.post("/api/blog/createPost",n).then((function(t){t&&(pe.a.success("Post Criado!"),setTimeout((function(){e.history.push("/blog")}),2e3))}))};return r.a.createElement("div",null,r.a.createElement("div",{style:{maxWidth:"700px",margin:"2rem auto"}},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(fe,{level:2}," Editor")),r.a.createElement(de,{placeholder:"Comece postando alguma coisa :)",onEditorChange:function(e){c(e),console.log(i)},onFilesChange:function(e){d(e)}}),r.a.createElement(v.a,{onSubmit:p},r.a.createElement("div",{style:{textAlign:"center",margin:"2rem"}},r.a.createElement(j.a,{size:"large",htmlType:"submit",className:"",onSubmit:p},"Publicar")))))};var he=function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Carregando...")},r.a.createElement(P,null),r.a.createElement("div",{style:{paddingTop:"69px",minHeight:"calc(100vh - 80px)"}},r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:d(f,null)}),r.a.createElement(c.a,{exact:!0,path:"/login",component:d(S,!1)}),r.a.createElement(c.a,{exact:!0,path:"/register",component:d(T,!1)}),r.a.createElement(c.a,{exact:!0,path:"/blog",component:d(W,null)}),r.a.createElement(c.a,{exact:!0,path:"/blog/create",component:d(ge,null)}),r.a.createElement(c.a,{exact:!0,path:"/blog/post/:postId",component:d(F,null)}))),r.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var be=a(171),Ee=a(121),ve=a(182),ye=Object(Ee.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register_user":return Object(ve.a)({},e,{register:t.payload});case"login_user":return Object(ve.a)({},e,{loginSucces:t.payload});case"auth_user":return Object(ve.a)({},e,{userData:t.payload});case"logout_user":return Object(ve.a)({},e);default:return e}}}),Oe=a(496),we=a.n(Oe),je=a(497),Ne=Object(Ee.a)(we.a,je.a)(Ee.d);i.a.render(r.a.createElement(m.a,{store:Ne(ye,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(be.a,null,r.a.createElement(he,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[502,1,2]]]);
//# sourceMappingURL=main.791c8940.chunk.js.map